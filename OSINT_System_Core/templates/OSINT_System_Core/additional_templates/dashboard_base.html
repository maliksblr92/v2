{% load static %}
<!DOCTYPE html>
<html>
<!-- Mirrored from covid.amcharts.com/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 26 Mar 2020 08:31:09 GMT -->

<head>
    <meta charset="UTF-8"/>

    <meta property="og:title" content="BIG VIEW"/>
    <meta property="og:description"
          content="A sample embeddable dashboard to visualize COVID-19 spread timeline and affected regions."/>
    <meta property="og:url" content="index.html"/>
    <meta property="og:site_name" content="amCharts"/>
    <meta property="og:image" content="screenshot.png"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/fontawesome.min.css"
          integrity="sha256-CuUPKpitgFmSNQuPDL5cEfPOOJT/+bwUlhfumDJ9CI4=" crossorigin="anonymous"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js"
            integrity="sha256-KzZiKy0DWYsnwMF+X1DvQngQ2/FxF7MF3Ff72XcpuPs=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://www.amcharts.com/lib/4/core.js"></script>
    <script type="text/javascript" src="https://www.amcharts.com/lib/4/themes/dark.js"></script>
    <script type="text/javascript" src="{% static 'Additional_assets/dashboard/js/charts.js' %}"></script>
    <script type="text/javascript" src="{% static 'Additional_assets/dashboard/js/maps.js' %}"></script>
    <script type="text/javascript" src="{% static 'Additional_assets/dashboard/js/dark.js' %}"></script>
    <script type="text/javascript" src="{% static 'Additional_assets/dashboard/js/animated.js' %}"></script>
    <script type="text/javascript" src="{% static 'Additional_assets/dashboard/js/worldLow.js' %}"></script>
    <script src="https://covid.amCharts.com/data/js/world_timeline.js"></script>
    <script src="https://covid.amCharts.com/data/js/total_timeline.js"></script>
    <script type="text/javascript" src="{% static 'Additional_assets/dashboard/js/countries2.js' %}"></script>
    <script type="text/javascript" src="{% static 'Additional_assets/dashboard/js/jquery-3.3.1.min.js' %}"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js">
    </script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
            integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
            integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
            integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous">
    </script>
    <link rel="stylesheet" href="/static/OSINT_System_Core/css/style.css"/>
    <script src="{% static 'django_eventstream/json2.js' %}"></script>
    <script src="{% static 'django_eventstream/eventsource.min.js' %}"></script>
    <script src="{% static 'django_eventstream/reconnecting-eventsource.js' %}"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, segoe ui, Roboto, Helvetica, Arial, sans-serif, apple color emoji, segoe ui emoji, segoe ui symbol;
            background: url("{% static 'images/background_gradient.svg' %}") no-repeat center center fixed;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-size: cover;
            margin: 0 !important;
            padding: 0 !important;
            font-family: 'Raleway' !important;
        }

    </style>
    <script>
        //var es = new ReconnectingEventSource('/events/');
        //es.addEventListener('reddit_trends', function (e) {
        //  console.log(
        //    'recieved reddit_trends [channel-name="bigview_streams",channel_type="reddit_trends",page=big_view]')
        //  new_data = JSON.parse(e.data)
        //  console.log(new_data)
        //  len = new_data.top_trends.length
        //  if (new_data.trend_type == 'reddit_trends') {
        //    $('#reddit_trends').empty();
        //
        //    var html = '';
        //    for (var x = 0; x < len; x++) {
        //
        //      var html =
        //        '<div class="col-md-12"><div class="row p-1 "><div class="col-md-3 border "style="border-radius:5px"><span class="text-white font-weight-bold d-flex flex-row justify-content-center align-items-center"style="font-size:10px;">' +
        //        new_new_data.top_trends[x].author_fullname +
        //        '</span><span class="text-white font-weight-bold d-flex flex-row justify-content-center align-items-center  "style="font-size:10px;">' +
        //        new_new_data.top_trends[x].count +
        //        '</span></div><div class="col-md-9 border d-flex flex-row justify-content-start align-items-center "style="border-radius:5px"><span class="text-white font-weight-bold d-flex flex-row justify-content-start align-items-center"style="font-size:10px;">' +
        //        new_new_data.top_trends[x].title + '</span></div></div></div>'
        //      $('#reddit_trends').append(html);
        //    }
        //  } else {
        //
        //  }
        //}, false);
        //es.addEventListener('twitter_trends', function (e) {
        //  console.log(
        //    'recieved twitter_trends [channel-name="bigview_streams",channel_type="twitter_trends",page=big_view]')
        //  const data = JSON.parse(e.data);
        //  len = data.length
        //  $('#recent_trends_worldwide').empty();
        //  for (var x = 0; x < len; x++) {
        //    if (data[x].count == "count unavalible") {
        //      data[x].count = "N/A";
        //    }
        //    var html =
        //      ' <div class="col-md-12 mt-1"><div class="row"><div class="col-md-2  m-0 p-0 custom_center"><span class="bg-dark text-white custom_center border border-warning font-weight-bold "style="border-radius:50%;height:40px;width:100%;4;">' +
        //      data[x].count +
        //      '</span></div><div class="col-md-10 border border-warning m-0  social_posts_post custom_center"style="overflow: hidden;"><a class="text-white font-weight-bold nav-link" href=' +
        //      data[x].href + ">" + data[x].name + "</a></div></div></div>";
        //    // var html='<div class="col-md-6"><div class="row"><div class="col-md-3  m-0 p-0 custom_center"><img src="/static/assets/dashboard_app_assets/images/profile woman (3).svg"  class="m-0 p-0 recent_trends_img" style="" alt="" /></div><div class="col-md-9 border border-warning text-white m-0 recent_trends_post p-0 m-0"><div class="w-100 h-50 d-flex flex-row  justify-content-start align-items-center  "style ="font-size:10px;overflow:hidden;"><a href="'+data.message[x].href+'">'+data.message[x].name+'</a></div><div class="text-white w-80 h-50 d-flex flex-row justify-content-start align-items-center " style ="font-size:10px;"> Count :'+data.message[x].count+'</div></div></div></div>'
        //    $("#recent_trends_worldwide").append(html);
        //  }
        //
        //  var today = new Date();
        //  var date = today.getFullYear() + "-" + (today.getMonth() + 1) + "-" + today.getDate();
        //  var time = today.getHours() + ":" + today.getMinutes() + ":" + today.getSeconds();
        //  var dateTime = date + " " + time;
        //  $("#trends_update_time").empty().append("Last updated : " + dateTime);
        //  //show notification
        //
        //}, false);

        //es.addEventListener('youtube_trends', function (e) {
        //  console.log(
        //    'recieved youtube_trends [channel-name="bigview_streams",channel_type="youtube_trends",page=big_view]')
        //  const data = JSON.parse(e.data);
        //  len = data.trends.length
        //  $('#youtube_trends').empty();
        //  var html = ''
        //  for (var x = 0; x < len; x++) {
        //    var html =
        //      '<div class="col-md-3 d-flex flex-column justify-content-center align-items-center border" style="border-radius:5px;"> <span class="text-white font-weight-bold d-flex flex-row justify-content-center align-items-center"style="font-size:11px;">' +
        //      data.trends[x].views + '</span><a  href="' + data.trends[x].video_link +
        //      '"class="badge badge-warning ">View</a></div><div class="col-md-9 d-flex flex-column justify-content-center align-items-center border" style="border-radius:5px;"><span class="text-white font-weight-bold d-flex flex-row justify-content-start     align-items-center"style="font-size:11px;">' +
        //      data.trends[x].video_name +
        //      '</span><span class="w-100 d-flex flex-row justify-content-center align-items-center"><img src="' + data
        //      .trends[x].thumbnail_directory +
        //      '" class="img-fluid w-25" style="height:40px;width:40px;border-radius:5px;"/><span class="w-75 text-white font-weight-bold d-flex flex-row justify-content-start align-items-center" style="font-size:11px;">Channel : ' +
        //      data.trends[x].channel_name + '</span></span></div>';
        //    $("#youtube_trends").append(html);
        //  }
        //
        //}, false);


        /* ############################################################hashtag chart update########################################################################################*/


        am4core.ready(function () {
            // Themes begin
            am4core.useTheme(am4themes_dark);
            am4core.useTheme(am4themes_animated);
            // Themes end
            var chart = am4core.create("hashtag_chart", am4charts.XYChart);
            chart.paddingBottom = 0;
            chart.paddingTop = 0;
            chart.paddingRight = 0;
            chart.paddingLeft = 0;


            chart.data = [{
                category: "Facebook",
                value: '{{Target_Count_Chart.0.facebook}}',
                // "color": am4core.color("#fde7f9")
            },
                {
                    category: "Twitter",
                    value: '{{Target_Count_Chart.1.twitter}}',
                    // "color": am4core.color("#fde7f4")
                },
                {
                    category: "Instagram",
                    value: '{{Target_Count_Chart.2.instagram}}',
                    // "color": am4core.color("#aee3e0")
                },

                {
                    category: "Linkedin",
                    value: '{{Target_Count_Chart.3.linkedin}}',
                    // "color": am4core.color("#aee3e0")
                },
                {
                    category: "Custom",
                    value: '{{Target_Count_Chart.4.custom}}',
                    // "color": am4core.color("#72cec9")
                }, {
                    category: "Reddit",
                    value: '{{Target_Count_Chart.5.reddit}}',
                    // "color": am4core.color("#72cec9")
                },
                {
                    category: "Youtube",
                    value: '{{Target_Count_Chart.6.youtube}}',
                    // "color": am4core.color("#72cec9")
                }
            ];
            //es.addEventListener('hashtag_charts', function (e) {
            //  console.log(
            //    'recieved hashtag_charts [channel-name="bigview_streams",channel_type="hashtag_charts",page=big_view]'
            //    )
            //  const data = JSON.parse(e.data);
            //
            //
            //
            //
            //  chart.data = [{
            //      category: "TWITTER",
            //      value: data[0]
            //      // "color": am4core.color("#fde7f9")
            //    },
            //    {
            //      category: "LINKEDIN",
            //      value: data[1]
            //      // "color": am4core.color("#fde7f4")
            //    },
            //    {
            //      category: "FACEBOOK",
            //      value: data[2]
            //      // "color": am4core.color("#aee3e0")
            //    },
            //    {
            //      category: "INSTAGRAM",
            //      value: data[3]
            //      // "color": am4core.color("#72cec9")
            //    }
            //  ];
            //  console.log("hashtag_charts   update completed ")
            //
            //}, false);
            //
            //


            $('#hashtag_chart_btn').on('click', function () {


                $.ajax({
                    type: 'GET',
                    dataType: 'json',
                    url: 'http://localhost:8000/core/update_dashboard_donutchart',
                    success: function (e) {
                        chart.data = [{
                            category: "Facebook",
                            value: e[0].facebook,
                            // "color": am4core.color("#fde7f9")
                        },
                            {
                                category: "Twitter",
                                value: e[1].twitter,
                                // "color": am4core.color("#fde7f4")
                            },
                            {
                                category: "Instagram",
                                value: e[2].instagram,
                                // "color": am4core.color("#aee3e0")
                            },

                            {
                                category: "Linkedin",
                                value: e[3].linkedin,
                                // "color": am4core.color("#aee3e0")
                            },
                            {
                                category: "Custom",
                                value: e[4].custom,
                                // "color": am4core.color("#72cec9")
                            }, {
                                category: "Reddit",
                                value: e[5].reddit,
                                // "color": am4core.color("#72cec9")
                            },
                            {
                                category: "Youtube",
                                value: e[6].youtube,
                                // "color": am4core.color("#72cec9")
                            }
                        ];

                    },

                    error: function (error) {
                        console.log("in error function")
                        console.log(error)
                    }

                })

            })

            var categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis());
            categoryAxis.renderer.grid.template.location = 0;
            categoryAxis.dataFields.category = "category";
            categoryAxis.renderer.minGridDistance = 15;
            categoryAxis.renderer.grid.template.location = 0.5;
            categoryAxis.renderer.grid.template.strokeDasharray = "1,3";
            categoryAxis.renderer.labels.template.rotation = -90;
            categoryAxis.renderer.labels.template.fontSize = 10;
            categoryAxis.renderer.labels.template.horizontalCenter = "left";
            categoryAxis.renderer.labels.template.location = 0.5;
            categoryAxis.renderer.labels.template.adapter.add("dx", function (dx, target) {
                return -target.maxRight / 2;
            })
            var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());
            valueAxis.tooltip.disabled = true;
            valueAxis.renderer.ticks.template.disabled = true;
            valueAxis.renderer.axisFills.template.disabled = true;
            var series = chart.series.push(new am4charts.ColumnSeries());
            series.dataFields.categoryX = "category";
            series.dataFields.valueY = "value";
            series.tooltipText = "{valueY.value}";
            series.sequencedInterpolation = true;
            series.fillOpacity = 0;
            series.strokeOpacity = 1;
            series.strokeDashArray = "1,3";
            series.columns.template.width = 0.01;
            series.tooltip.pointerOrientation = "horizontal";
            var bullet = series.bullets.create(am4charts.CircleBullet);
            chart.cursor = new am4charts.XYCursor();
            chart.scrollbarX = new am4core.Scrollbar();
            chart.scrollbarY = new am4core.Scrollbar();
        }); // end am4core.ready()


        //youtube chart update
        am4core.ready(function () {
            am4core.useTheme(am4themes_animated);
            var chart = am4core.create("youtube_charts", am4charts.PieChart);
            chart.paddingBottom = 0;
            chart.paddingTop = 0;
            chart.paddingRight = 0;
            chart.paddingLeft = 0;

            chart.data = [{
                platform: "Facebook",
                values: '{{Target_Count_Chart.0.facebook}}',
                // "color": am4core.color("#fde7f9")
            },
                {
                    platform: "Twitter",
                    values: '{{Target_Count_Chart.1.twitter}}',
                    // "color": am4core.color("#fde7f4")
                },
                {
                    platform: "Instagram",
                    values: '{{Target_Count_Chart.2.instagram}}',
                    // "color": am4core.color("#aee3e0")
                },

                {
                    platform: "Linkedin",
                    values: '{{Target_Count_Chart.3.linkedin}}',
                    // "color": am4core.color("#aee3e0")
                },
                {
                    platform: "Custom",
                    values: '{{Target_Count_Chart.4.custom}}',
                    // "color": am4core.color("#72cec9")
                }, {
                    platform: "Reddit",
                    values: '{{Target_Count_Chart.5.reddit}}',
                    // "color": am4core.color("#72cec9")
                },
                {
                    platform: "Youtube",
                    values: '{{Target_Count_Chart.6.youtube}}',
                    // "color": am4core.color("#72cec9")
                }
            ];

            //es.addEventListener('youtube_charts', function (e) {
            //  console.log(
            //    'recieved youtube_charts [channel-name="bigview_streams",channel_type="youtube_charts",page=big_view]'
            //    )
            //  const data = JSON.parse(e.data);
            //  chart.data = [{
            //      platform: "TWITTER",
            //      values: data[0]
            //      // "color": am4core.color("#fde7f9")
            //    },
            //    {
            //      platform: "LINKEDIN",
            //      values: data[1]
            //      // "color": am4core.color("#fde7f4")
            //    },
            //    {
            //      platform: "FACEBOOK",
            //      values: data[2]
            //      // "color": am4core.color("#aee3e0")
            //    },
            //    {
            //      platform: "INSTAGRAM",
            //      values: data[3]
            //      // "color": am4core.color("#72cec9")
            //    }
            //  ];
            //  console.log("Youtube Chart Update Complete ")
            //  //show notification
            //
            //}, false);


            $('#donut_chart_btn').on('click', function () {


                $.ajax({
                    type: 'GET',
                    dataType: 'json',
                    url: 'http://localhost:8000/core/update_dashboard_donutchart',
                    success: function (e) {
                        console.log("donut chart ajax")
                        console.log(e[0].facebook)
                        console.log(e[1])
                        //const data = JSON.parse(e.data);
                        //console.log(data);


                        chart.data = [{
                            platform: "Facebook",
                            values: e[0].facebook,
                            // "color": am4core.color("#fde7f9")
                        },
                            {
                                platform: "Twitter",
                                values: e[1].twitter,
                                // "color": am4core.color("#fde7f4")
                            },
                            {
                                platform: "Instagram",
                                values: e[2].instagram,
                                // "color": am4core.color("#aee3e0")
                            },

                            {
                                platform: "Linkedin",
                                values: e[3].linkedin,
                                // "color": am4core.color("#aee3e0")
                            },
                            {
                                platform: "Custom",
                                values: e[4].custom,
                                // "color": am4core.color("#72cec9")
                            }, {
                                platform: "Reddit",
                                values: e[5].reddit,
                                // "color": am4core.color("#72cec9")
                            },
                            {
                                platform: "Youtube",
                                values: e[6].youtube,
                                // "color": am4core.color("#72cec9")
                            }
                        ];


                    },

                    error: function (error) {
                        console.log("in error function")
                        console.log(error)
                    }

                })

            })
            // Set inner radius
            chart.innerRadius = am4core.percent(60);
            // Add and configure Series
            var pieSeries = chart.series.push(new am4charts.PieSeries());
            pieSeries.dataFields.value = "values";
            pieSeries.dataFields.category = "platform";
            pieSeries.slices.template.stroke = am4core.color("#fff");
            pieSeries.slices.template.strokeWidth = 2;
            pieSeries.slices.template.strokeOpacity = 1;
            pieSeries.labels.template.fontSize = 12;
            // This creates initial animation
            pieSeries.hiddenState.properties.opacity = 1;
            pieSeries.hiddenState.properties.endAngle = -90;
            pieSeries.hiddenState.properties.startAngle = -90;
            let rgm = new am4core.RadialGradientModifier();
            rgm.brightnesses.push(-0.8, -0.8, -0.5, 0, -0.5);
            pieSeries.slices.template.fillModifier = rgm;
            pieSeries.slices.template.strokeModifier = rgm;
            pieSeries.slices.template.strokeOpacity = 0.4;
            pieSeries.slices.template.strokeWidth = 0;
        }); // end am4core.ready()
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>


    <script>


        /*################################################################ AUTO REFRESH WORLD WIDE TRENDS################################################################*/


        function autoupdate_world_wide_trends() {

            country_name = 'world';
            console.log(country_name);
            $.ajax({
                type: 'GET',
                dataType: 'json',
                url: 'http://localhost:8000/core/getTrendsByCountry',
                data: {
                    country_name: country_name
                },
                success: function (e) {
                    console.log(e)
                    len = e.length
                    $('#trends_by_world').empty();
                    for (var x = 0; x < len; x++) {

                        var html =
                            '<div class="col-md-12 mt-1"><div class="row"><div class="col-md-3 d-flex flex-column justify-content-center align-items-center border" style="border-radius:5px;"><span class="text-white font-weight-bold d-flex flex-row justify-content-center align-items-center"style="font-size:11px;">' +
                            e[x].count +
                            '</span><a   target="_blank"  href="{% url "Data_Processing_Unit:get_hashtag_tweets" hashtag_name='+e[x].name+'%}" class="badge badge-light ">View</a></div><div class="col-md-9 border border-white m-0  social_posts_post custom_center"style="overflow: hidden;"><a class="text-white font-weight-bold nav-link" style="font-size: 14px;" href="' +
                            e[x].href + '">' + e[x].name + '</a></div></div></div>'
                        $("#trends_by_world").append(html);
                    }
                    var today = new Date();
                    var date = today.getFullYear() + "-" + (today.getMonth() + 1) + "-" + today.getDate();
                    var time = today.getHours() + ":" + today.getMinutes() + ":" + today.getSeconds();
                    var dateTime = date + " " + time;
                    $("#worldwide_hashtags_updatedtime").empty().append("Last updated : " + dateTime);
                },
                error: function (error) {

                    console.log(error)
                    console.log("No trends Found for " + country_name)
                },
            });
        }

        setInterval(autoupdate_world_wide_trends, 300000)

        /*################################################################ AUTO REFRESH WORLD WIDE TRENDS################################################################*/





        /*################################################################ AUTO REFRESH Google  TRENDS################################################################*/


        function autoupdate_google_trends() {

            country_name = 'world';
            console.log(country_name);
            $.ajax({
                type: 'GET',
                dataType: 'json',
                url: 'http://localhost:8000/core/getGoogleTrends',
                //data: {
                // country_name: country_name
                // },
                success: function (data) {
                    var html = ''
                    for (var x = 0; x < len; x++) {
                        $('#trends_by_google').empty();
                        for (var x = 0; x < len; x++) {
                            console.log(data.top_Trends[0][x])
                            var html = '<div class="col-md-12 mt-1"><div class="row"><div class="col-md-3 d-flex flex-column justify-content-center align-items-center border" style="border-radius:5px;"><span class="text-white font-weight-bold d-flex flex-row justify-content-center align-items-center"style="font-size:11px;">N/A</span></div><div class="col-md-9 border border-white m-0  social_posts_post custom_center"style="overflow: hidden;"><a class="text-white font-weight-bold nav-link" style="font-size: 12px;" href="' + data.top_Trends[0][x].article_link + '">' + data.top_Trends[0][x].article_name + '</a></div></div></div>';
                            $("#trends_by_google").append(html);
                        }
                        //var today = new Date();
                        // var date = today.getFullYear() + "-" + (today.getMonth() + 1) + "-" + today.getDate();
                        // var time = today.getHours() + ":" + today.getMinutes() + ":" + today.getSeconds();
                        //  var dateTime = date + " " + time;
                        // $("#worldwide_hashtags_updatedtime").empty().append("Last updated : " + dateTime);
                    }
                    console.log("UPDATED GOOGLE TRENDS")
                },
                error: function (error) {

                    console.log(error)
                    console.log("GOOGLE TRENDS FAILED TO UPDATE ")
                },
            });
        }

        setInterval(autoupdate_world_wide_trends, 300000)

        /*################################################################  AUTO REFRESH Google  TRENDS################################################################*/



        /*################################################################ REFRESH TRENDS BY COUNTRY ################################################################*/

        $(document).ready(function () {


            $('#country_selector').on('change', function () {
                country_name = this.value;
                console.log(country_name);
                $.ajax({
                    type: 'GET',
                    dataType: 'json',
                    url: 'http://localhost:8000/core/getTrendsByCountry',
                    data: {
                        country_name: country_name
                    },
                    success: function (e) {
                        console.log(e)
                        len = e.length
                        $('#trends_by_country').empty();
                        for (var x = 0; x < len; x++) {
                            var names = e[x].name
                            var first_char = names.charAt(0);
                            console.log(first_char)
                            if (first_char == '#') {
                                var names = names.substring(1)
                                console.log('hashtah symbol removed ')
                            }


                            var href = 'href="{% url "Data_Processing_Unit:get_hashtag_tweets" hashtag_name=12345 %}"'.replace(/12345/, names.toString());

                            var html =
                                '<div class="col-md-12 mt-1"><div class="row"><div class="col-md-3 d-flex flex-column justify-content-center align-items-center border" style="border-radius:5px;"><span class="text-white font-weight-bold d-flex flex-row justify-content-center align-items-center"style="font-size:11px;">' +
                                e[x].count +
                                '</span><a target="_blank" ' + href + ' class="badge badge-light ">View</a></div><div class="col-md-9 border border-white m-0  social_posts_post custom_center"style="overflow: hidden;"><a class="text-white font-weight-bold nav-link" target="_blank" style="font-size: 14px;" href="' +
                                e[x].href + '">' + e[x].name + '</a></div></div></div>'
                            $("#trends_by_country").append(html);
                            console.log(html)
                        }

                        console.log(" %3FP(%3FP%23کبھی_کبھی%5B0-9%5D+)%5C/$/")
                    },
                    error: function (error) {

                        console.log(error)
                        console.log("No Trends for country = " + country_name)
                    },
                })
            });
            /*################################################################ refresh youtube trends################################################################*/

            $('#refesh_youtube_trends').on('click', function () {
                $.ajax({
                    type: 'GET',
                    dataType: 'json',
                    url: 'http://localhost:8000/core/getYoutubeTrends',
                    success: function (new_data) {
                        len = new_data.top_Trends.length
                        $('#youtube_trends').empty();
                        var html = ''
                        for (var x = 0; x < len; x++) {
                            if (new_data.top_Trends[x].thumbnail_directory == '') {
                                new_data.top_Trends[x].thumbnail_directory =
                                    " {% static 'OSINT_System_Core/no_image.png'%}"
                            }
                            var html =
                                '<div class="col-md-3 d-flex flex-column justify-content-center align-items-center border" style="border-radius:5px;"> <span class="text-white font-weight-bold d-flex flex-row justify-content-center align-items-center"style="font-size:11px;">' +
                                new_data.top_Trends[x].views + '</span><a target="_blank"  href="' + new_data.top_Trends[x].video_link +
                                '"class="badge badge-light ">View</a></div><div class="col-md-9 d-flex flex-column justify-content-center align-items-center border" style="border-radius:5px;"><span class="text-white font-weight-bold d-flex flex-row justify-content-start     align-items-center"style="font-size:11px;">' +
                                new_data.top_Trends[x].video_name +
                                '</span><span class="w-100 d-flex flex-row justify-content-center align-items-center"><img src="' +
                                new_data.top_Trends[x].thumbnail_directory +
                                '" class="img-fluid w-25" style="height:40px;width:40px;border-radius:5px;"/><span class="w-75 text-white font-weight-bold d-flex flex-row justify-content-start align-items-center" style="font-size:11px;">Channel : ' +
                                new_data.top_Trends[x].channel_name + '</span></span></div>';

                            $("#youtube_trends").append(html);
                        }


                    },
                    error: function (error) {

                        console.log(error)
                        console.log("No Trends Youtube ")
                    },
                })
            });


        })


        /*################################################################ auto update youtube trends################################################################*/

        function autoupdate_youtube_trends() {
            $.ajax({
                type: 'GET',
                dataType: 'json',
                url: 'http://localhost:8000/core/getYoutubeTrends',
                success: function (new_data) {
                    console.log("youtube trends  timeout started ")
                    len = new_data.top_Trends.length
                    $('#youtube_trends').empty();
                    var html = ''
                    for (var x = 0; x < len; x++) {
                        if (new_data.top_Trends[x].thumbnail_directory == '') {
                            new_data.top_Trends[x].thumbnail_directory = " {% static 'OSINT_System_Core/no_image.png'%}"
                        }
                        var html =
                            '<div class="col-md-3 d-flex flex-column justify-content-center align-items-center border" style="border-radius:5px;"> <span class="text-white font-weight-bold d-flex flex-row justify-content-center align-items-center"style="font-size:11px;">' +
                            new_data.top_Trends[x].views + '</span><a  target="_blank" href="' + new_data.top_Trends[x].video_link +
                            '"class="badge badge-light ">View</a></div><div class="col-md-9 d-flex flex-column justify-content-center align-items-center border" style="border-radius:5px;"><span class="text-white font-weight-bold d-flex flex-row justify-content-start     align-items-center"style="font-size:11px;">' +
                            new_data.top_Trends[x].video_name +
                            '</span><span class="w-100 d-flex flex-row justify-content-center align-items-center"><img src="' +
                            new_data.top_Trends[x].thumbnail_directory +
                            '" class="img-fluid w-25" style="height:40px;width:40px;border-radius:5px;"/><span class="w-75 text-white font-weight-bold d-flex flex-row justify-content-start align-items-center" style="font-size:11px;">Channel : ' +
                            new_data.top_Trends[x].channel_name + '</span></span></div>';
                        $("#youtube_trends").append(html);
                    }
                    console.log("youtube trends  timeout  completed ")

                },
                error: function (error) {

                    console.log(error)
                    console.log("no youtube trends found  ")
                },
            })
        }

        setInterval(autoupdate_youtube_trends, 300000)
        /*################################################################ refresh youtube trends################################################################*/


    </script>
    <link rel="stylesheet" media="all" href="{% static 'Additional_assets/dashboard/css/jquery.dataTables.min.css' %}"/>
    <link rel="stylesheet" media="all" href="{% static 'Additional_assets/dashboard/css/select.dataTables.min.css' %}"/>
    <script type="text/javascript"
            src="{% static 'Additional_assets/dashboard/js/jquery.dataTables.min.js' %}"></script>
    <script type="text/javascript"
            src="{% static 'Additional_assets/dashboard/js/dataTables.select.min.js' %}"></script>
    <!-- <script type="text/javascript" src="{% static 'Additional_assets/dashboard/js/world_timeline.js' %}"></script>
    <script type="text/javascript" src="{% static 'Additional_assets/dashboard/js/total_timeline.js' %}"></script> -->
    <script src="https://covid.amCharts.com/data/js/world_timeline.js"></script>
    <script src="https://covid.amCharts.com/data/js/total_timeline.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" media="all" href="{% static 'Additional_assets/dashboard/css/dark.css' %}"/>
    <script type="text/javascript" src="{% static 'Additional_assets/dashboard/js/app.js' %}"></script>
    <!-- toatsr -->
    <link rel="stylesheet" type="text/css" href="{% static 'Additional_assets/dashboard/css/toastr.min.css' %}"/>
    <style type="text/css">
        #items {
            padding-bottom: 100px;
        }

        #info {
            position: absolute;
            background: #444;
            box-sizing: border border-warning-box;
            padding: 5px;
            bottom: 0;
            margin-right: 20px;
            margin-bottom: 0px;
        }

        p {
            margin: 5px;
        }

        a {
            color: #fff;
        }
    </style>
    <style type="text/css">
        .custom_center_row {
            display: flex !important;
            flex-direction: row !important;
            justify-content: center !important;
            align-items: center !important;
        }

        .custom_center_col {
            display: flex !important;
            flex-direction: column !important;
            justify-content: center !important;
            align-items: center !important;
        }

        .custom_center {
            display: flex !important;
            justify-content: center;
            align-items: center;
        }

        .vertical_text {
            writing-mode: vertical-lr;
        }
    </style>
    <style type="text/css">
        .card1_text {
            font-size: 20px;
        }

        .card1_col1 {
            border-right: 1px solid white;
            /*   background-color: #fde7f9;
          background-image: linear-gradient(315deg, #fde7f9 0%, #aacaef 74%);*/
            border-radius: 10px 0px 0px 10px;
        }

        .card_headers {
            border-radius: 10px 10px 0px 0px;
            font-weight: bold;
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
        }

        .card1_row {
            border-radius: 10px;
            height: 335px;
        }
    </style>
    <style type="text/css">
        .card2_text {
            font-size: 20px;
        }

        .card2_col1 {
            border-right: 1px solid white;
            /*   background-color: #fde7f9;
          background-image: linear-gradient(315deg, #fde7f9 0%, #aacaef 74%);*/
            border-radius: 10px 0px 0px 10px;
        }

        .card2_row {
            border-radius: 10px;
        }
    </style>
    <style type="text/css">
        .recent_trends_img {
            height: 60px;
            width: 100%;
        }

        .recent_trends_post {
            border-radius: 5px;
            height: 50px;
        }
    </style>
    <style type="text/css">
        .social_posts_img {
            height: 50px;
            width: 100%;
        }

        .social_posts_post {
            font-size: 10px;
            border-radius: 5px;
            height: 45px;
        }

        .social_posts_post_reddit {
            font-size: 10px;
            border-radius: 5px;
            height: 80px;

        }
    </style>
    <style type="text/css">
        html {
            --scrollbarBG: #CFD8DC;
            --thumbBG: #90A4AE;
        }

        ::-webkit-scrollbar {
            width: 3px;
            scrollbar-width: thin;
            scrollbar-color: var(--thumbBG) var(--scrollbarBG);
        }

        ::-webkit-scrollbar-track {
            background: var(--scrollbarBG);
        }

        ::-webkit-scrollbar-thumb {
            background-color: var(--thumbBG);
            border-radius: 6px;
            border: 3px solid var(--scrollbarBG);
        }
    </style>
    <style type="text/css">
        .header {
            border: 1px solid black;
            height: auto;
            background: rgb(74, 103, 121);
            background: linear-gradient(90deg, rgba(74, 103, 121, 1) 67%, rgba(128, 138, 173, 1) 100%, rgba(0, 212, 255, 1) 100%);
            -webkit-clip-path: polygon(0% 15%, 7% 15%, 7% 0, 93% 0, 93% 15%, 100% 15%, 100% 85%, 93% 85%, 93% 100%, 7% 100%, 7% 85%, 0% 85%);
            clip-path: polygon(0% 15%, 7% 15%, 7% 0, 93% 0, 93% 15%, 100% 15%, 100% 85%, 93% 85%, 93% 100%, 7% 100%, 7% 85%, 0% 85%);
        }

        .footer {
            border: 1px solid black;
            height: auto;
            background: rgb(74, 103, 121);
            background: linear-gradient(90deg, rgba(74, 103, 121, 1) 67%, rgba(128, 138, 173, 1) 100%, rgba(0, 212, 255, 1) 100%);
            -webkit-clip-path: polygon(0% 15%, 7% 15%, 7% 0, 93% 0, 93% 15%, 100% 15%, 100% 85%, 93% 85%, 93% 100%, 7% 100%, 7% 85%, 0% 85%);
            clip-path: polygon(0% 15%, 7% 15%, 7% 0, 93% 0, 93% 15%, 100% 15%, 100% 85%, 93% 85%, 93% 100%, 7% 100%, 7% 85%, 0% 85%);
        }

        .small_btn {
            height: 25px;
            width: auto;
            font-size: 10px;;
        }

        .custom_card_header {
            height: 40px !important;
            color: #ffffff !important;
            background: rgb(24, 72, 116);
            background: linear-gradient(93deg,
            rgba(24, 72, 116, 1) 0%,
            rgba(6, 17, 26, 1) 100%);
        }

        .
    </style>
</head>

<body>
{% block content %}
{% endblock %}
{##}
{#      <script type="text/javascript" src="{% static 'Additional_assets/dashboard/charts/worldwide_hastags.js' %}"></script>#}
{#     <script type="text/javascript" src="{% static 'Additional_assets/dashboard/charts/barchart_1.js' %}"></script>#}
{#     <script type="text/javascript" src="{% static 'Additional_assets/dashboard/charts/donut_chart.js' %}"></script>#}

</body>

</html>
