{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>{% block page_title%}{%endblock%}</title>
  <link rel="stylesheet" href="{% static 'bootstrap/css/bootstrap.min.css' %}" />
  <link rel="stylesheet" href="{% static 'font-awesome/css/all.min.css' %}" />
  {% comment %}
  <!-- including style.css so that it should be evaluated by django -->
  <!-- <style>
      {% include 'OSINT_System_Core/css/style.css' %}
    </style> -->
  {% endcomment %}
  {% block head_dep %} {% endblock %}
  {% block head_styles %}
  {% endblock %}
  <!-- loading css with link does not evaluate static tag -->
  <link rel="stylesheet" href="{% static 'OSINT_System_Core/css/style.css' %}" />
</head>

<body>
  <!-- container fluid div -->
  <div class="container-fluid">
    <!-- header -->
    {% block header %}
    <div class="row ">
      <div class="col-lg-12 pl-5 pr-5">
        <nav class="navbar navbar-expand-lg " id="header">
          <button class="navbar-toggler bg-primary" type="button" data-toggle="collapse"
            data-target="#navbarTogglerDemo01" aria-controls="navbarTogglerDemo01" aria-expanded="false"
            aria-label="Toggle navigation">
            <span class="navbar-toggler-icon ">
              <i class="fas fa-bars" style="color:#fff; font-size:28px;"></i>
            </span>
          </button>
          <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
            <div class="col-lg-2"></div>
            <div class="col-lg-8 ">
              <div class="row">
                <div class="col-lg-4 p-3">
                  <div class="row">
                    <div class="col-lg-6  list list-inline custom_center "
                      style="border-right:1px solid white;border-left:1px solid white;padding-top:35px;padding-bottom:20px;">
                      <li class="nav-item">
                        <a class="btn  nav_btn  topnavitem" href="#"
                          style="color:#fff; letter-spacing: normal;">TARGET</a>
                      </li>
                    </div>
                    <div class="col-lg-6  list list-inline custom_center "
                      style="border-right:1px solid white;padding-top:35px;padding-bottom:20px;">
                      <li class="nav-item">
                        <a class="   btn   nav_btn" href="#" style="">PORTFOLIO</a>
                      </li>
                    </div>
                  </div>
                </div>
                <div class="col-lg-4 custom_center">
                  <img src="{% static 'images/logo.svg' %}" height="120" width="250" class=" m-0 p-0">
                </div>
                <div class="col-lg-4 p-3">
                  <div class="row">
                    <div class="col-lg-6  list list-inline custom_center "
                      style="border-right:1px solid white;border-left:1px solid white;padding-top:35px;padding-bottom:20px;">
                      <li class="nav-item">
                        <a class="   btn   nav_btn" href="#" style="">CASE</a>
                      </li>
                    </div>
                    <div class="col-lg-6  list list-inline custom_center "
                      style="border-right:1px solid white;padding-top:35px;padding-bottom:20px;">
                      <li class="nav-item">
                        <a class="   btn   nav_btn" href="#" style="">KEYBASE</a>
                      </li>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-2 "></div>
          </div>
        </nav>
      </div>
    </div>
    {% endblock %}
    <!-- end header -->

    <!-- small navbar below header -->
    {% block smallnavbar %}
    {% endblock %}
    <!-- end of navbar below header -->
    <!-- start body -->
    <div class="row mt-5">
      <!-- left sidebar -->
      {% block leftsidebar %} {% endblock %}
      <!-- end of left sidebar -->
      <!-- main belly of the beast -->
      <div class="col-lg-8">
        {% block belly %} {% endblock %}
        <!-- start footer -->
        {% block footer %}
        <div class="row footer_wrapper ">
          <div class="col-lg-12 glowing_border" style="border-radius:5px;">
            <div class="row">
              <div class="col-lg-2 m-0 p-3">
                <div class="custom_center footer_div_1 ">
                  <div class="text-center  text-white " style="font-size: 10px;" id="control-msg-box">
                    Lorem ipsum dolor sit, amet consectetur adipisicing elit.
                    Eos tenetur facilis doloremque.
                  </div>
                </div>
              </div>
              <div class="col-lg-4 m-0 p-3 ">
                <div id="chart_5" class="m-0 p-0 "></div>
              </div>
              <div class="col-lg-6  m-0 p-3 ">
                <div class="row">
                  <div class="col-lg-4 ">
                    <div id="chart_6" class="m-0 p-0 "></div>
                  </div>
                  <div class="col-lg-4 ">
                    <div id="chart_7" class="m-0 p-0 "></div>
                  </div>
                  <div class="col-lg-4 ">
                    <div id="chart_8" class="m-0 p-0 "></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- start footer script -->
        <script>
          // jquery ready function
          document.addEventListener('DOMContentLoaded', function () {
            let footerRES = new ReconnectingEventSource('/events/')
            console.log(footerRES)
            footerRES.addEventListener('message', (event) => {
              const control_msg = JSON.parse(event.data)
              console.log(control_msg)
              const control_msg_box = $('#control-msg-box')
              control_msg_box.text(control_msg['text'])
            })
            //footer graphs
            //internet speed of crawl server
            // $.ajax({
            //   dataTyp: 'json',
            //   url: '',
            //   'success': (intspeed) => {
            //     console.log(intspeed)
            //   }
            // })
            // //crawl server state
            // $.getJSON('', (state) => {
            //   //update the graphs
            //   console.log(state)
            // })
          }) // end of jquery ready function
        </script>
        <!-- end of footer script -->
        {% endblock %}
        <!-- end footer -->
      </div>
      <!-- end of belly -->
      <!-- right sidebar -->
      {% block rightsidebar %} {% endblock %}
      <!-- end of right sidebar -->
      <!-- end body -->
    </div>
  </div>
  <!-- end of container fluid -->
  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script defer src="{% static 'jquery/js/jquery-3.2.1.min.js' %}"></script>
  <script defer src="{% static 'popper/js/popper.min.js' %}"></script>
  <script defer src="{% static 'bootstrap/js/bootstrap.min.js' %}"></script>
  <script defer src="{% static 'django_eventstream/json2.js' %}"></script>
  <script defer src="{% static 'django_eventstream/eventsource.min.js' %}"></script>
  <script defer src="{% static 'django_eventstream/reconnecting-eventsource.js' %}"></script>
  <script defer src="{% static 'amchart/js/core.js' %}"></script>
  <script defer src="{% static 'amchart/js/charts.js' %}"></script>
  <script defer src="{% static 'amchart/js/themes/dark.js' %}"></script>
  <script defer src="{% static 'amchart/js/themes/animated.js' %}"></script>
  <script defer src="{% static 'OSINT_System_Core/js/oss_core_chart.js' %}"></script>
  {% block foot_dep %} {% endblock %}
  {% block foot_script %} {% endblock %}
</body>

</html>