{% extends 'OSINT_System_Core/tso_base.html' %}
{% load static %}
{% block head_dep %}
    <link rel="stylesheet" href="{% static 'Target_Management_System/css/tso_nav_bar.css' %}"/>
{% endblock %}
{% block smallnavbar %}
<div class="row">
    <div class="col-md-2"></div>
    <div class="col-md-8 d-flex flex-row justify-content-center align-items-center" style="">
        <div class="col-md-1">
        </div>
        
        <div class="col-md-2 col-lg-2 col-xl-2 col-sm-2 secondmidnavmenu ">
            <a href="{% url 'User_Accounts_Management_Unit:add_user' %}" class="btn secondnavitems ">
                Add User</a>
        </div>
        <div class="col-md-2 col-lg-2 col-xl-2 col-sm-2 secondlastnavmenu ">
            <a href="{% url 'User_Accounts_Management_Unit:all_users' %}" class="btn secondnavitems ">
                All Users</a>
        </div>

        <div class="col-md-2 col-lg-2 col-xl-2 col-sm-2 secondlastnavmenu ">
            <a href="{% url 'User_Accounts_Management_Unit:all_user_group' %}" class="btn secondnavitems ">
                All User Groups</a>
        </div>
        <div class="col-md-2 col-lg-2 col-xl-2 col-sm-2 secondlastnavmenu ">
            <a href="{% url 'User_Accounts_Management_Unit:add_user_profile' %}" class="btn secondnavitems ">
                Add User Profile</a>
        </div>
        <div class="col-md-2 col-lg-2 col-xl-2 col-sm-2 secondlastnavmenu ">
            <a href="{% url 'User_Accounts_Management_Unit:all_user_profile' %}" class="btn secondnavitems ">
               All User Profiles</a>
        </div>
        <div class="col-md-1"></div>
    </div>
    <div class="col-md-2"></div>
</div>
{% endblock %}
{% block belly_header %}
{% if User_Profile_Fetched %}
<p class="text-uppercase custom_card_title ">UPDATE USER </p>
{% else %}
<p class="text-uppercase custom_card_title ">ADD USER </p>
{% endif %}
{% endblock %}
{% block belly %}
<style>
    input[type="text"]::placeholder{
        font-size:16px!important;
    }
</style>
<div class="row ">
    <!-- RPW FOR SOCIAL MEDIA -->
    <!-- Second row-->
    <div class="col-md-12 col-lg-12 col-xl-12 col-sm-12  ">
        {% if User %}
     
        <form name="Add_User_Profile"  enctype="multipart/form-data" action="{% url 'User_Accounts_Management_Unit:update_user' id=User.id  %}" method="POST"
              class="custom_inner_background inner_form_margin_radius">
              <!-- <input type="text" name="id" value="{{User.id}}" />  -->
            {% csrf_token %}
            {% else %}
            <form name="Add_User" action="{% url 'User_Accounts_Management_Unit:add_user' %}" enctype="multipart/form-data" method="POST"
            class="custom_inner_background inner_form_margin_radius">
            {% csrf_token %}
            {% endif %}
            <div class="card-body main_card ">
              
                <div class="row input_wrapper_row">
                    <div class="col-md-2">
                       
                    </div>
                    <div class="col-md-9">

                         <!-- start input f-name -->
                         <div class="row input-group mt-4 mb-3">
                            <div class="col-md-3 p-0 input-group-prepend">
                    <span class="custom_label_input_field" style="font-size:13px;letter-spacing:0.1em;
                       opacity:0.9; padding:7px 9px 0 10px;">First Name
                    </span>
                            </div>
                            <input type="text"
                                   class="col-md-9 form-control custom_input_field"
                                   id="f-name"
                                   name="f-name"
                                   minlength="3"
                                   maxlength="20"
                                   {% if User %}
                                   value="{{ User.first_name}}"
                                   {% else %}
                                   value=""
                                   {% endif %}
                                   required="required">
                           </div>
                        <!-- end input f-name -->



                         <!-- start input f-name -->
                         <div class="row input-group mt-4 mb-3">
                            <div class="col-md-3 p-0 input-group-prepend">
                    <span class="custom_label_input_field" style="font-size:13px;letter-spacing:0.1em;
                       opacity:0.9; padding:7px 9px 0 10px;">Last Name
                    </span>
                            </div>
                            <input type="text"
                                   class="col-md-9 form-control custom_input_field"
                                   id="l-name"
                                   name="l-name"
                                   minlength="3"
                                   maxlength="20"
                                   {% if User %}
                                   value="{{ User.last_name}}"
                                   {% else %}
                                   value=""
                                   {% endif %}
                                   required="required">
                           </div>
                        <!-- end input f-name -->


                        <!-- start input f-name -->
                        <div class="row input-group mt-4 mb-3">
                            <div class="col-md-3 p-0 input-group-prepend">
                    <span class="custom_label_input_field" style="font-size:13px;letter-spacing:0.1em;
                       opacity:0.9; padding:7px 9px 0 10px;">User Name
                    </span>
                            </div>
                            <input type="text"
                                   class="col-md-9 form-control custom_input_field"
                                   id="user-name"
                                   name="user-name"
                                   minlength="3"
                                   maxlength="20"
                                   {% if User %}
                                   value="{{ User.username}}"
                                   {% else %}
                                   value=""
                                   {% endif %}
                                   required="required">
                           </div>
                        <!-- end input f-name -->


                        <!-- start input password -->
                        <div class="row input-group mt-4 mb-3">
                            <div class="col-md-3 p-0 input-group-prepend">
                    <span class="custom_label_input_field" style="font-size:13px;letter-spacing:0.1em;
                       opacity:0.9; padding:7px 9px 0 10px;">Password
                    </span>
                            </div>
                            <input type="password"
                                   class="col-md-9 form-control custom_input_field"
                                   id="password"
                                   name="password"
                                   minlength="8"
                                   maxlength="14"
                                   {% if User %}
                                   value="{{ User.password}}"
                                   {% else %}
                                   value=""
                                   {% endif %}
                                   required="required">
                           </div>
                        <!-- end input password -->



                          <!-- start input email -->
                          <div class="row input-group mt-4 mb-3">
                            <div class="col-md-3 p-0 input-group-prepend">
                    <span class="custom_label_input_field" style="font-size:13px;letter-spacing:0.1em;
                       opacity:0.9; padding:7px 9px 0 10px;">Email
                    </span>
                            </div>
                            <input type="email"
                                   class="col-md-9 form-control custom_input_field"
                                   id="email"
                                   name="email"
                                   minlength="10"
                                   maxlength="20"
                                   {% if User %}
                                   value="{{ User.email}}"
                                   {% else %}
                                   value=""
                                   {% endif %}
                                   required="required">
                           </div>
                        <!-- end input email -->


                        
                        


                    <!-- <div class="row input-group mt-4 mb-3">
                        <div class="col-md-3 p-0 input-group-prepend">
                <span class="custom_label_input_field" style="font-size:13px;letter-spacing:0.1em;
                   opacity:0.9; padding:7px 9px 0 10px;">Add Group
                </span>
                        </div>
                        <select class="col-md-9 form-control custom_input_field" id="profile-pic" name="profile-pic" style="color:#fff!important"
                             >
                            <option value="0">Add user to group </option>
                            {% for group in User_Groups %}
                            <option value="{{group.id}}">{{group.name}}</option>
                            {% endfor %}
                            </select>
                    </div> -->
                    

                        <!-- start input others -->
                        <div class="row input-group mt-4 mb-3">
                           
                            <div class=" col-md-4 d-flex flex-row justify-content-around align-items-center">
                               <div  class="row">
                                <div class="col-md-2 "><input type="checkbox" class="form-check-input"
                                    {% if User.is_superuser %}
                                    checked
                                    {% else %}

                                    {% endif %}
                                    value="is_superuser" name="is_superuser"></div>
                                <div class="col-md-10"> <label class="form-check-label badge badge-dark ">Is SuperUser</label></div>
                               </div>
                               
                              </div>
                              <div class=" col-md-4">
                                <div  class="row">
                                    <div class="col-md-2 "><input type="checkbox"
                                        {% if User.is_active %}
                                        checked
                                        {% else %}
                                            
                                        {% endif %} class="form-check-input" value="is_active" name="is_active"></div>
                                    <div class="col-md-10"> <label class="form-check-label badge badge-dark ">Is Active</label></div>
                                   </div>
                              </div>
                              <div class=" col-md-4 border">
                                <div  class="row">
                                    <div class="col-md-2 "><input type="checkbox"
                                        {% if User.is_staff %}
                                        checked
                                        {% else %}
                                            
                                        {% endif %} class="form-check-input"name="is_staff" value="is_staff"></div>
                                    <div class="col-md-10"> <label class="form-check-label badge badge-dark ">Is Staff</label></div>
                                   </div>
                              </div>
                              </div>
                          
                             
               
                        <!-- end input others -->

                        






                     
                        <!-- end input password -->




                         <!-- start input password -->
                         <!-- <div class="row input-group mt-4 mb-3">
                            <div class="col-md-3 p-0 input-group-prepend">
                    <span class="custom_label_input_field" style="font-size:13px;letter-spacing:0.1em;
                       opacity:0.9; padding:7px 9px 0 10px;">Add To Groups
                    </span>
                            </div>
                            <input type="password"
                                   class="col-md-9 form-control custom_input_field"
                                   id="user-group"
                                   name="user-group"
                                   minlength="8"
                                   maxlength="14"
                                   placeholder="enter password" required="">
                        </div> -->
                        <!-- end input password -->



                       
                       
                    </div>
                    <div class="col-md-1">

                    </div>
                   
                </div>
                <div class="row input_wrapper_row">
                    <div class="col-md-6"></div>
                    <div class="col-md-4"></div>
                    <div class="col-md-2">
                        <input type="submit"
                               class="custom_label_input_field btn text-white "
                               {% if User %}
                               value="Update"
                                   {% else %}
                                   value="Submit"
                                   {% endif %}
                               value="Submit"
                               name="submit" id="submit">
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

{% endblock %}

{% block foot_dep %}
<script>
    $(document).ready(function() {
        $('#user_names').css('color','gray');
        $('#user_names').change(function() {
           var current = $('#select').val();
           if (current != 'null') {
               $('#user_names').css('color','black');
           } else {
               $('#user_names').css('color','gray');
           }
        }); 
     });
</script>
<script>
    {% for message in messages %}
    $(document).ready(function() {
        console.log("###############################################################################")
        Command: toastr["{{ message.tags }}"]("{{ message }} .")

        toastr.options = {
            "closeButton": true,
            "debug": false,
            "newestOnTop": false,
            "progressBar": true,
            "positionClass": "toast-top-right",
            "preventDuplicates": false,
            "onclick": null,
            "showDuration": "300",
            "hideDuration": "1000",
            "timeOut": "5000",
            "extendedTimeOut": "1000",
            "showEasing": "swing",
            "hideEasing": "linear",
            "showMethod": "fadeIn",
            "hideMethod": "fadeOut"
        }
    });
    {% endfor %}

  
        

    </script>
{% endblock %}
