{% load static %}
<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{% static 'Additional_assets/main/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'Additional_assets/main/css/all.min.css' %}">
    <link rel="stylesheet" href="{% static 'Additional_assets/main/css/style.css' %}"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css"
          integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"/>
    <title>TMS | Twitter Report</title>
    <!-- categorization styling  -->
    <style>
        .stamp {
            transform: rotate(12deg);
            color: #000;
            font-size: 3rem;
            font-weight: 700;
            border: 0.25rem solid #000;
            display: inline-block;
            padding: 0.25rem 1rem;
            text-transform: uppercase;
            border-radius: 1rem;
            font-family: 'Courier';
            -webkit-mask-image: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/8399/grunge.png');
            -webkit-mask-size: 944px 604px;
        }

        .is-draft {
            color: #535353;
            border: 1rem double #535353;
            transform: rotate(-5deg);
            font-size: 1rem;
            font-family: "Open sans", Helvetica, Arial, sans-serif;
            border-radius: 0;
            padding: 0.5rem;
        }
    </style>
    <!-- end categorization styling  -->
    <style>
        .twPc-div {
            background: #fff none repeat scroll 0 0;
            border: 1px solid #e1e8ed;
            border-radius: 6px;
            /*height: 200px;*/
            max-width: 100%; /*// orginal twitter width: 290px; */
        }

        .twPc-bg {
            background-image: url("https://pbs.twimg.com/profile_banners/50988711/1384539792/600x200");
            background-position: 0 50%;
            background-size: 100% auto;
            border-bottom: 1px solid #e1e8ed;
            border-radius: 4px 4px 0 0;
            height: 200px;
            width: 100%;
        }

        .twPc-block {
            display: block !important;
        }

        .twPc-button {
            margin: 0px -10px 0;
            text-align: right;
            width: 100%;
        }

        .twPc-avatarLink {
            background-color: #fff;
            border-radius: 6px;
            display: inline-block !important;
            float: left;
            margin: -30px 5px 0 8px;
            max-width: 100%;
            padding: 1px;
            vertical-align: bottom;
        }

        .twPc-avatarImg {
            border: 2px solid #fff;
            border-radius: 7px;
            box-sizing: border-box;
            color: #fff;
            height: 72px;
            width: 72px;

        }

        .twPc-divUser {
            margin: 5px 0 0;
        }

        .twPc-divName {
            font-size: 18px;
            font-weight: 700;
            line-height: 21px;
        }

        .twPc-divName a {
            color: inherit !important;
        }

        .twPc-divStats {
            margin-left: 11px;
            padding: 10px 0;
            margin-top: 20px;;
        }

        .twPc-Arrange {
            box-sizing: border-box;
            display: table;
            margin: 0;
            min-width: 100%;
            padding: 0;
            table-layout: auto;
        }

        ul.twPc-Arrange {
            list-style: outside none none;
            margin: 0;
            padding: 0;
        }

        .twPc-ArrangeSizeFit {
            display: table-cell;
            padding: 0;
            vertical-align: top;
        }

        .twPc-ArrangeSizeFit a:hover {
            text-decoration: none;
        }

        .twPc-StatValue {
            display: block;
            font-size: 14px;
            font-weight: 500;
            transition: color 0.15s ease-in-out 0s;
        }

        .twPc-StatLabel {
            color: #8899a6;
            font-size: 10px;
            letter-spacing: 0.02em;
            overflow: hidden;
            text-transform: uppercase;
            transition: color 0.15s ease-in-out 0s;
        }

        .twitter-follow-button {
            text-decoration: none;

            font-weight: bold;

        }

        .card-body {
            font-size: 14px;;
        }
    </style>
</head>
<body>
<div class="container-fluid">
    <!-- Header Start -->
    <div class="row pl-5 pr-5 pt-3">

        <div class="col-md-12">
            <div class="twPc-div">
                <a class="twPc-bg twPc-block"></a>
                <div class="bg-white">


                    <div class="d-flex flex-row justify-content-start align-items-center">
                        <!-- style="margin-top:-48px;" -->
                        <a title="Mert S. Kaplan"
                           href="#"
                           class="twPc-avatarLink">
                            <img alt="Mert S. Kaplan"
                                 src="{{ tweets.profile_url }}"
                                 class="twPc-avatarImg">
                        </a>
                        <div class="twPc-divUser">
                            <div class="twPc-divName">
                                {{ tweets.name }}
                            </div>
                            <span>
                            <a href='https://twitter.com/{{ tweets.tweets.0.username_tweet }}'
                               target="_blank">@<span>{{ tweets.tweets.0.username_tweet }}</span></a>
                        </span>

                        </div>
                        {% if tweets.website %}
                            <a class="text-dark"
                               class="twitter-follow-button text-dark nav-link ml-5 " data-show-count="false"
                               data-size="large"
                               data-show-screen-name="false" class="" data-dnt="true">Webiste @{{ tweets.website }}</a>
                        {% endif %}
                    </div>
                    <div class="twPc-divStats">
                        <ul class="twPc-Arrange">
                            <li class="twPc-ArrangeSizeFit">
                                <a class="text-dark"
                                   title="9.840 Tweet">
                                    <span class="twPc-StatLabel twPc-block">Tweets</span>
                                    <span class="twPc-StatValue">{{ tweets.tweets_count }}</span>
                                </a>
                            </li>
                            <li class="twPc-ArrangeSizeFit">
                                <a class="text-dark"
                                   title="885 Following">
                                    <span class="twPc-StatLabel twPc-block">Following</span>
                                    <span class="twPc-StatValue">{{ tweets.following_count }}</span>
                                </a>
                            </li>
                            <li class="twPc-ArrangeSizeFit">
                                <a class="text-dark"
                                   title="1.810 Followers">
                                    <span class="twPc-StatLabel twPc-block">Followers</span>
                                    <span class="twPc-StatValue">{{ tweets.follower_count }}</span>
                                </a>
                            </li>
                            <li class="twPc-ArrangeSizeFit">
                                <a class="text-dark"
                                   title="1.810 Followers">
                                    <span class="twPc-StatLabel twPc-block">Likes</span>
                                    <span class="twPc-StatValue">{{ tweets.likes_count }}</span>
                                </a>
                            </li>
                            <li class="twPc-ArrangeSizeFit">
                                <a class="text-dark"
                                   title="1.810 Followers">
                                    <span class="twPc-StatLabel twPc-block">joined</span>
                                    <span class="twPc-StatValue">{{ tweets.joined_twitter }}</span>
                                </a>
                            </li>
                            <li class="twPc-ArrangeSizeFit">
                                <a class="text-dark"
                                   title="1.810 Followers">
                                    <span class="twPc-StatLabel twPc-block">Location</span>
                                    <span class="twPc-StatValue">{{ tweets.location }}</span>
                                </a>
                            </li>
                        </ul>
                    </div>


                </div>
            </div>
        </div>

    </div>
    <!-- Header Ends -->

    <!-- Profile Information Start -->
    <div class="row pl-5 pr-5 pt-3">
        <div class="col-md-12">
            <div class=" mt-1 card border">
                <div class="accordion" id="accordionExample">
                    <!-- Profile Summary Start -->
                    <div class="card">
                        <div class="card-header" id="headingOne">
                            <h2 class="mb-0">
                                <button class="btn font-weight-bold" type="button" data-toggle="collapse"
                                        data-target="#profile_summary" aria-expanded="true"
                                        aria-controls="profile_summary">
                                    Profile Summary
                                </button>
                            </h2>
                        </div>
                        <div id="profile_summary" class="collapse show" aria-labelledby="headingOne"
                             data-parent="#accordionExample">
                            <p class=" card-body ">
                                {% if tweets.profile_summary %}
                                    {{ tweets.profile_summary }}
                                {% else %}
                                    No Profile Summary Data Exists
                                {% endif %}
                            </p>
                        </div>
                    </div>

                    <!-- Bio Data Start -->
                    <div class="card">
                        <div class="card-header" id="headingOne">
                            <h2 class="mb-0">
                                <button class="btn font-weight-bold" type="button" data-toggle="collapse"
                                        data-target="#bio_data" aria-expanded="true" aria-controls="bio_data">
                                    Bio Data
                                </button>
                            </h2>
                        </div>
                        <div id="bio_data" class="collapse show" aria-labelledby="headingOne"
                             data-parent="#accordionExample">
                            <p class=" card-body ">
                                {% if tweets.biodata %}
                                    {{ tweets.biodata }}
                                {% else %}
                                    No Bio Data Exists
                                {% endif %}
                            </p>
                        </div>
                    </div>

                    <!-- Frequent Hashtags Start -->
                    <div class="card">
                        <div class="card-header" id="headingOne">
                            <h2 class="mb-0">
                                <button class="btn font-weight-bold" type="button" data-toggle="collapse"
                                        data-target="#frequent_hashtags" aria-expanded="true"
                                        aria-controls="frequent_hashtags">
                                    Frequent Hashtags
                                </button>
                            </h2>
                        </div>
                        <div id="frequent_hashtags" class="collapse show" aria-labelledby="headingOne"
                             data-parent="#accordionExample">
                            <p class=" card-body ">
                                {% for i in  tweets.frequent_hashtags %}
                                    <span class="mr-4 font-weight-bold" style="font-size:15px;">#{{ i }}</span>
                                {% empty %}
                                    <span class=" badge badge-info ">No frequent hashtags avaliable </span>
                                {% endfor %}
                            </p>
                        </div>
                    </div>

                    <!-- Common Words Start -->
                    <div class="card">
                        <div class="card-header" id="headingOne">
                            <h2 class="mb-0">
                                <button class="btn font-weight-bold" type="button" data-toggle="collapse"
                                        data-target="#common_words" aria-expanded="true" aria-controls="common_words">
                                    Common Words
                                </button>
                            </h2>
                        </div>
                        <div id="common_words" class="collapse show" aria-labelledby="headingOne"
                             data-parent="#accordionExample">
                            <p class=" card-body ">
                                {% for i in  tweets.common_words %}
                                    <span class="mr-4 font-weight-bold" style="font-size:15px;">{{ i }}</span>
                                {% empty %}
                                    <span class="alert alert-info">No common words  avaliable </span>
                                {% endfor %}
                            </p>
                        </div>
                    </div>

                    <!-- Sentiments Start -->
                    <div class="card">
                        <div class="card-header" id="headingOne">
                            <h2 class="mb-0">
                                <button class="btn font-weight-bold" type="button" data-toggle="collapse"
                                        data-target="#sentiments" aria-expanded="true" aria-controls="sentiments">
                                    Sentiments
                                </button>
                            </h2>
                        </div>
                        <div id="sentiments" class="collapse show" aria-labelledby="headingOne"
                             data-parent="#accordionExample">
                            <p class="card-body  m-0 p-0 d-flex flex-row mt-3 mb-3">
                                <i class="fas fa-thumbs-up text-dark ml-5 mr-2"></i>: <span
                                    class="mr-4"> {{ tweets.sentiments.0 }}</span>

                                <i class="fas fa-thumbs-down text-dark ml-5 mr-2"></i>: <span
                                    class="mr-4"> {{ tweets.sentiments.1 }}</span>
                            </p>
                        </div>
                    </div>

                    <!-- Followers Start -->
                    <div class="card">
                        <div class="card-header" id="headingOne">
                            <h2 class="mb-0">
                                <button class="btn font-weight-bold" type="button" data-toggle="collapse"
                                        data-target="#sentiments" aria-expanded="true" aria-controls="sentiments">
                                    Followers ( {{ tweets.followers|length }} )
                                </button>
                            </h2>
                        </div>
                        <div id="followers">
                            <p class=" card-body ">
                            <div class="row">
                                {% for i in tweets.followers %}
                                    <div class="col-md-6 mt-2">
                                        <div class="card">
                                            <div class="card-header d-flex flex-row justify-content-center align-items-center custom_header m-0 p-0 ">
                                                {% if i.avatar %}
                                                    <img src="{{ i.avatar }}"
                                                         style="height:60px;width:60px;border-radius:50%;"
                                                         class="img-fluid"/>
                                                {% else %}
                                                    <img src="/static/images/heliports_image_placeholder.jpg"
                                                         style="height:60px;width:60px;border-radius:50%;"
                                                         class="img-fluid"/>
                                                {% endif %}
                                            </div>
                                            <div class="card-body">
                                                <div class="row">
                                                    <div class="col-md-6 m-0 p-0 ">
                                                        <div><span
                                                                class="w-50 text-left font-weight-bold mr-2">Name:</span>
                                                            <span class="">{{ i.name|truncatechars:"12" }}</span>
                                                        </div>
                                                        <div><span
                                                                class="w-50 text-left font-weight-bold mr-2">User-Name:</span>
                                                            <span class="">{{ i.username|truncatechars:"12" }}</span>
                                                        </div>
                                                        <div><span
                                                                class="w-50 text-left font-weight-bold mr-2">Location:</span>
                                                            <span class="">{{ i.location|truncatechars:"12" }}</span>
                                                        </div>
                                                        <div><span
                                                                class="w-50 text-left font-weight-bold mr-2">Join Date:</span>
                                                            <span class="">{{ i.join_date }}</span>
                                                        </div>
                                                        <div><span
                                                                class="w-50 text-left font-weight-bold mr-2">Join Time:</span>
                                                            <span class="">{{ i.join_time }}</span>
                                                        </div>
                                                        <div><span class="w-50 text-left font-weight-bold mr-2">Tweet Count:</span>
                                                            <span class="">{{ i.tweets }}</span></div>

                                                    </div>
                                                    <div class="col-md-6 m-0 p-0 ">

                                                        <div><span
                                                                class="w-50 text-left font-weight-bold mr-2">Following :</span>
                                                            <span class="">{{ i.following }}</span>
                                                        </div>
                                                        <div><span
                                                                class="w-50 text-left font-weight-bold mr-2">Followers:</span>
                                                            <span class="">{{ i.followers }}</span>
                                                        </div>
                                                        <div><span
                                                                class="w-50 text-left font-weight-bold mr-2">Private:</span>
                                                            <span class="">{{ i.private }}</span></div>
                                                        <div><span
                                                                class="w-50 text-left font-weight-bold mr-2">Verified:</span>
                                                            <span class="">{{ i.verified }}</span>
                                                        </div>
                                                        <div><span
                                                                class="w-50 text-left font-weight-bold mr-2">Likes:</span>
                                                            <span class="">{{ i.likes }}</span></div>
                                                        <div><span class="w-50 text-left font-weight-bold mr-2">Media Count:</span>
                                                            <span class="">{{ i.media }}</span></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                {% endfor %}
                            </div>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Profile Information End -->

    <!-- Tweets Start -->
    <div class="row pl-5 pr-5 pt-3">
        <div class="col-md-12">
            <div class="row pl-3 pr-3 ">
                {% for i in tweets.tweets %}
                    <div class="col-md-6 border">
                        <div class="row p-2 border">
                            <div class="col-md-2 m-0 p-0 d-flex flex-column justify-content-center align-items-center"
                                 style="height:auto;">
                                <img class="img-fluid " src="{{ tweets.profile_url }}"
                                     style="height:50px;width:50px;border-radius:50%;"/>
                                <p style="font-size:12px" class="text-dark font-weight-bold  ">
                                    Tweet # {{ forloop.counter }}
                                </p>
                            </div>
                            <div class="col-md-10 d-flex">
                                <div class="row w-100">
                                    <div class="col-md-12 d-flex flex-column justify-content-around align-items-center">
                                        <b class="text-dark m-0 p-0 col-md-4 " style="font-size:10px;">
                                            {% if i.sentiment == 'Positive' %}
                                                <i class="fas fa-thumbs-up  text-success mr-2 ml-2"></i>
                                                <span class="text-success"> {{ i.sentiment }}</span>
                                            {% else %}
                                                <i class="fas fa-thumbs-down  text-danger mr-2 ml-2"></i>
                                                <span class="text-danger"> {{ i.sentiment }}</span>
                                            {% endif %}

                                        </b>
                                        <span class="text-dark m-0 p-0 col-md-4 " style="font-size:14px;">
                                                        @{{ i.username_tweet }}.
                                                    </span>
                                        <span class="text-dark m-0 p-0 col-md-4 " style="font-size:10px;">
                                                        {{ i.datetime_created }}
                                                    </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <div class="col-md-12 text-dark font-weight-bold "
                                 style="font-size:12px;height:120px;">
                                {{ i.text }}
                            </div>

                        </div>
                        <div class="row">
                            {% if i.images %}
                                {% if i.images|length == 1 %}
                                    <div class="col-md-12" style="height:300px;;width:100%;overflow-y:scroll;">
                                        {% for img in i.images %}

                                            <img src="{{ img }}" class="img-fluid" style="height:300px;;width:100%;"/>

                                        {% endfor %}


                                    </div>
                                {% else %}
                                    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                                        <div class="carousel-inner">

                                            {% for img in i.images %}
                                                {% if forloop.counter == 1 %}
                                                    <div class="carousel-item active">
                                                        <img class="d-block w-100" src="{{ img }}"
                                                             style="height:300px;;width:100%;"
                                                             alt="First slide {{ forloop.counter }}">
                                                    </div>
                                                {% else %}
                                                    <div class="carousel-item">
                                                        <img class="d-block w-100" src="{{ img }}"
                                                             style="height:300px;;width:100%;"
                                                             alt="Second slide {{ forloop.counter }}">
                                                    </div>
                                                {% endif %}

                                                <a class="carousel-control-prev " href="#carouselExampleControls"
                                                   role="button" data-slide="prev">
                                                    <span class=" fa fa-angle-left text-dark fa-2x"
                                                          aria-hidden="true"></span>
                                                    <span class="sr-only">Previous</span>
                                                </a>
                                                <a class="carousel-control-next " href="#carouselExampleControls"
                                                   role="button" data-slide="next">
                                                    <span class=" fa fa-angle-right text-dark fa-2x"
                                                          aria-hidden="true"></span>
                                                    <span class="sr-only">Next</span>
                                                </a>
                                            {% endfor %}


                                        </div>
                                    </div>
                                {% endif %}
                            {% else %}
                                <img src="/static/images/no-img-placeholder.png" class="img-fluid"
                                     style="height:300px;;width:100%;"/>
                            {% endif %}
                        </div>

                        {% if i.categorization %}
                            <div class="row">
                                <div class="col-md-12 " style="height:80px;">
                                    {% for category in i.categorization %}
                                        {% if category == 'Neither' %}
                                        {% else %}
                                            <span class="stamp  is-draft">
                                            {{ category|default:"N/A" }}</span>
                                        {% endif %}
                                    {% endfor %}
                                </div>
                            </div>
                        {% endif %}
                        <div class="row  mt-2" style="position:relative;bottom:0px;">
                            <div class="col-md-3 text-dark d-flex flex-row justify-content-around border m-0 p-0 align-items-center"
                                 style="border-radius: 0px 0px 0px 10px;">
                                <i class=" fas fa-comment">
                                </i>
                                <span style="font-size: 12px;;">
                                                {{ i.mentions }}
                                            </span>
                            </div>
                            <div
                                    class="col-md-3 text-dark  d-flex flex-row justify-content-around border m-0 p-0 align-items-center">
                                <i aria-hidden="true" class=" text-dark fa fa-retweet">
                                </i>
                                <span style="font-size: 12px;;">
                                                {{ i.replies_count }}
                                            </span>
                            </div>
                            <div
                                    class="col-md-3 text-dark  d-flex flex-row justify-content-around border m-0 p-0 align-items-center">
                                <i class=" text-dark fas fa-heart">
                                </i>
                                <span style="font-size: 12px;;">
                                                {{ i.likes_count }}
                                            </span>
                            </div>
                            <div
                                    class="col-md-3 text-dark  d-flex flex-row justify-content-around border m-0 p-0 align-items-center"
                                    style="border-radius: 0px 0px 10px 0px;">
                                <i class=" text-dark fas fa-upload">
                                </i>
                                <span style="font-size: 12px;;">
                                                {{ i.retweeet_count }}
                                            </span>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>

</div>

<script type="text/javascript" src="{% static 'Additional_assets/main/js/slim.min.js' %}"></script>
<script>
    $(document).ready(function () {
        window.print();


    });
</script>
</body>
</html>
