{% load static %}
<!doctype html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <!-- <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="{% static 'Additional_assets/main/css/bootstrap.min.css'%}">
        <link rel="stylesheet" href="{% static 'Additional_assets/main/css/all.min.css'%}">
        <link rel="stylesheet" href="{% static 'Additional_assets/main/css/style.css'%}">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css"
            integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/fontawesome.min.css"
                integrity="sha256-CuUPKpitgFmSNQuPDL5cEfPOOJT/+bwUlhfumDJ9CI4=" crossorigin="anonymous">
                <style>
                .text_10px {
                font-size: 10px !important;
                }
                .text_12px {
                font-size: 12px;
                ;
                }
                .text_13px {
                font-size: 13px !important;
                }
                .text_14px {
                font-size: 14px;
                ;
                }
                .text_15px {
                font-size: 15px;
                ;
                }
                .text_20px {
                font-size: 20px;
                ;
                }
                .text_25px {
                font-size: 25px;
                ;
                }
                .border_radius_5px {
                border-radius: 5px !important;
                }
                .background-gradient-dark {
                background: linear-gradient(0deg, rgba(24, 72, 116, 1) 0%, rgba(6, 17, 26, 1) 100%) !important;
                }
                .no_decoration {
                text-decoration: none !important;
                }
                .border_right {
                border-right: 1px solid black;
                ;
                }
                .border_left {
                border-left: 1px solid black;
                ;
                }
                .custom-start-center {
                display: flex;
                justify-content: center;
                align-items: center;
                }
                .custom-start-center {
                display: flex !important;
                justify-content: start !important;
                align-items: center !important;
                }
                .custom-end-center {
                display: flex !important;
                justify-content: end !important;
                align-items: center !important;
                }
                .d-flex flex-row justify-content-start align-items-center {
                display: flex !important;
                flex-direction: row !important;
                justify-content: center !important;
                align-items: center !important;
                }
                .custom-column-center-center {
                display: flex !important;
                flex-direction: column !important;
                justify-content: center !important;
                align-items: center !important;
                }
                .custom-column-start-start {
                display: flex !important;
                flex-direction: column !important;
                justify-content: start !important;
                align-items: start !important;
                }
                .custom-column-start-center {
                display: flex !important;
                flex-direction: column !important;
                justify-content: start !important;
                align-items: center !important;
                }
                .full_space {
                height: 100% !important;
                width: 100% !important;
                }
                .ellipsis {
                text-overflow: hidden;
                }
                </style>
                <style>
                html {
                --scrollbarBG: #CFD8DC;
                --thumbBG: #90A4AE;
                }
                ::-webkit-scrollbar {
                width: 7px;
                scrollbar-width: thin;
                scrollbar-color: var(--thumbBG) var(--scrollbarBG);
                }
                ::-webkit-scrollbar-track {
                background: var(--scrollbarBG);
                }
                ::-webkit-scrollbar-thumb {
                background-color: var(--thumbBG);
                border-radius: 6px;
                border: 3px solid var(--scrollbarBG);
                }
                </style>
                <style>
                .profile-img-wrapper {
                border: 4px solid white;
                height: 250px;
                width: 250px;
                border-radius: 10px;
                }
                .label {
                color: white
                }
                .header-wrapper {}
                .stats-box-upper {
                border-radius: 5px 5px 0px 0px;
                text-align: center;
                font-weight: bold;
                color: red
                }
                .stats-box-lower {
                border-radius: 0px 0px 5px 5px;
                text-align: center;
                color: blue
                }
                .post-wrapper {
                height: 700px;
                overflow-y: auto;
                }
                .header-icons {
                border: 1px solid white;
                padding: 5px;
                border-radius: 5px;
                background-color: white;
                ;
                }
                .header-text {
                font-size: 16px !important;
                ;
                width: 200px;
                ;
                text-align: left;
                }
                .card-body-label {
                width: 100px;
                ;
                text-align: left;
                }
                /***
                *
                * Author: Osama Mumtaz
                *
                ***/
                .custom_button{
                background: rgb(24, 72, 116);
                background: linear-gradient(
                93deg,
                rgba(24, 72, 116, 1) 0%,
                rgba(6, 17, 26, 1) 100%
                );
                font-size: 16px;
                border-radius: 13px;
                padding: 3px 40px;
                border: 1 solid #707070;
                }
                .custom_header{
                border-radius: 20px 20px 0 0;
                background: linear-gradient(
                90deg,
                rgba(0, 32, 44, 90%) 0%,
                rgba(0, 46, 69, 90%) 28%,
                rgba(0, 83, 135, 82%) 72%,
                rgba(0, 113, 188, 80%) 100%
                ) !important;
                border-bottom: 1px solid #707070;
                }
                .custom_background{
                background-color: #012847 !important;
                }
                .custom_bagde{
                background-color: #06111a !important;
                color: #ffffff !important;
                }
                .custom_icon{
                border: 1px solid #fff;
                border-radius: 5px;
                margin: 10px;
                display: flex;
                flex-direction: row;
                justify-content: center;
                align-items: center;
                background: linear-gradient(
                93deg,
                rgba(24, 72, 116, 1) 0%,
                rgba(6, 17, 26, 1) 100%);
                }
                .dropdown-content a:hover {background-color: #f1f1f1;}
                .dropdown:hover .dropdown-content {
                display: block;
                }
                .dropdown-content {
                display: none;
                position: absolute;
                min-width: 150px;
                box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
                z-index: 1;
                }
                .dropdown-content > a {
                min-width: 140px;
                }
                li.dropdown {
                display: inline-block;
                }
                li a, .dropbtn {
                display: inline-block;
                text-align: center;
                text-decoration: none;
                }
                </style>
                <!-- categorization styling  -->
                <style>
                .stamp {
                transform: rotate(12deg);
                color: #fff;
                font-size: 3rem;
                font-weight: 700;
                border: 0.25rem solid #fff;
                display: inline-block;
                padding: 0.25rem 1rem;
                text-transform: uppercase;
                border-radius: 1rem;
                font-family: 'Courier';
                -webkit-mask-image: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/8399/grunge.png');
                -webkit-mask-size: 944px 604px;
                /*mix-blend-mode: multiply;*/
                }
                .is-draft {
                color: #C4C4C4;
                border: 1rem double #C4C4C4;
                transform: rotate(-5deg);
                font-size: 1rem;
                font-family: "Open sans", Helvetica, Arial, sans-serif;
                border-radius: 0;
                padding: 0.5rem;
                }
                </style>
                <!-- end categorization styling  -->
            </head>
            <body>
                <div class="container-fluid wrapper background-gradient-dark">
                    <div class="row ">
                        <div class="col-md-1"></div>
                        <div class="col-md-10">
                            
                            <div class="col-md-12 bg-white" style="background-color:black; border-radius :5px 5px 0px 0px;height: 35px;;">
                                <div class="row">
                                    <div class="col-md-6 text-left">
                                        <a class="btn btn-primary btn-sm"
                                           href="https://www.instagram.com/{{profile.username}}"
                                           target="_blank"
                                           style="margin-top:2px;">
                                            <i class="fab fa-instagram mr-2 "></i>Instagram Target Profile
                                        </a>
                                    </div>
                                    
                                    <div class="col-md-6 d-flex flex-row justify-content-end align-items-center">
                                        <li class="dropdown">
                                            <a href="javascript:void(0)" class="dropbtn btn btn-sm btn-primary  mr-2 ml-2"><i class="fa fa-cog mr-2"></i>Options</a>
                                            <div class="dropdown-content">
                                                <a type="button" class="btn btn-sm btn-success float-left mr-2 ml-2"target="_blank" style="margin-top:2px;" href="{% url 'Target_Management_System:Instagram_Target_Report' object_gtr_id=profile.GTR %}"id="download_as_pdf">PDF Downlaod</a>
                                                <a type="button" class="btn btn-sm btn-success float-left mr-2 ml-2"target="_blank" style="margin-top:2px;"  href="{% url 'Target_Management_System:instagram_follower_tree_graph' object_gtr_id=profile.GTR %}" id="download_as_pdf">Followers Graph</a>
                    
                                            </div>
                                        </li>
                                    </div>
                                </div>
                            </div>

                            <div class="row background-gradient-dark border_radius_5px ">
                                <div class="col-md-2  custom-column-start-center mt-5">
                                    <div class="profile-img-wrapper ">
                                        <img src="{{profile.profile_picture_url}}" class="border_radius_5px img-fluid full_space">
                                    </div>
                                    <div>
                                        <a href="" target="_blank" class="badge badge-success text_14px mt-2">
                                            <i class="fa fa-eye text-dark header-icons mr-2"></i> View profile
                                        </a>
                                    </div>
                                </div>
                                <div class="col-md-5  background-gradient-dark p-5">
                                    <div class="row  p-2">
                                        <div class="col-md-6 d-flex flex-row justify-content-start align-items-center">
                                            <label class="label text_15px font-weight-bold ">
                                                <i class="fa fa-user text-dark header-icons fa-2x mr-2 "></i>Full Name
                                            </label>
                                        </div>
                                        <div class="col-md-6 d-flex flex-row justify-content-start align-items-center">
                                            <label class="label text_15px font-weight-bold ">
                                                <span class="badge badge-light header-text">
                                                    {{profile.fullname|default:"N/A"}}
                                                </span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row  p-2">
                                        <div class="col-md-6 d-flex flex-row justify-content-start align-items-center">
                                            <label class="label text_15px font-weight-bold ">
                                                <i class="fa fa-user text-dark header-icons fa-2x mr-2 "></i>User Name
                                            </label>
                                        </div>
                                        <div class="col-md-6 d-flex flex-row justify-content-start align-items-center">
                                            <label class="label text_15px font-weight-bold ">
                                                <span class="badge badge-light header-text">
                                                    {{profile.username|default:"N/A"}}
                                                </span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row p-2">
                                        <div class="col-md-6 d-flex flex-row justify-content-start align-items-center">
                                            <label class="label text_15px font-weight-bold ">
                                                <i class="fas fa-compass text-dark header-icons fa-2x mr-2  mr-2"></i>
                                                Followers
                                            </label>
                                        </div>
                                        <div class="col-md-6 d-flex flex-row justify-content-start align-items-center">
                                            <label class="label text_15px font-weight-bold ">
                                                <span class="badge badge-light header-text">
                                                    {{profile.follow|default:"N/A"}}
                                                </span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row p-2">
                                        <div class="col-md-6 d-flex flex-row justify-content-start align-items-center">
                                            <label class="label text_15px font-weight-bold ">
                                                <i class="fa fa-fingerprint text-dark header-icons fa-2x mr-2  mr-2"></i>
                                                Followed By
                                            </label>
                                        </div>
                                        <div class="col-md-6 d-flex flex-row justify-content-start align-items-center">
                                            <label class="label text_15px font-weight-bold ">
                                                <span class="badge badge-light header-text">
                                                    {{profile.followed_by|default:"N/A"}}
                                                </span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row p-2">
                                        <div class="col-md-6 d-flex flex-row justify-content-start align-items-center">
                                            <label class="label text_15px font-weight-bold ">
                                                <i class="fa fa-eye text-dark header-icons fa-2x mr-2  "></i> Bio-Graphy
                                            </label>
                                        </div>
                                        <div class="col-md-6 d-flex flex-row justify-content-start align-items-center">
                                            <label class="label text_15px font-weight-bold ">
                                                <span class="badge badge-light header-text">
                                                    {{profile.biography|default:"N/A"|truncatechars:"15"}}
                                                </span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row p-2">
                                        <div class="col-md-6 d-flex flex-row justify-content-start align-items-center">
                                            <label class="label text_15px font-weight-bold ">
                                                <i class="fa fa-eye text-dark header-icons fa-2x mr-2  "></i> Person ID
                                            </label>
                                        </div>
                                        <div class="col-md-6 d-flex flex-row justify-content-start align-items-center">
                                            <label class="label text_15px font-weight-bold ">
                                                <span class="badge badge-light header-text">
                                                    {{profile.person_id|default:"N/A"}}
                                                </span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row p-2">
                                        <div class="col-md-6 d-flex flex-row justify-content-start align-items-center">
                                            <label class="label text_15px font-weight-bold ">
                                                <i class="fa fa-eye text-dark header-icons fa-2x mr-2  "></i> Behaviour
                                            </label>
                                        </div>
                                        <div class="col-md-6 d-flex flex-row justify-content-start align-items-center">
                                            <label class="label text_15px font-weight-bold ">
                                                <span class="badge badge-light header-text">
                                                    {{profile.behaviour|default:"N/A"}}
                                                </span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-5 d-flex flex-row justify-content-center align-items-center">
                                    <div id="profile_chart" style="height:400px;width:100%"></div>
                                </div>
                            </div>
                            <!--
                            -->
                            <div class="row ">
                                <div class="col-md-12 m-0 p-0">
                                    <div class="card">
                                        <div class="card-header">
                                            <ul class="nav nav-tabs">
                                                <li class="nav-link active custom_icon">
                                                    <a data-toggle="tab" href="#profile" class="text-white fas fa-user">
                                                        Profile
                                                    </a>
                                                </li>
                                                <li class="nav-link active custom_icon">
                                                    <a data-toggle="tab" href="#posts" class="text-white fa fa-sticky-note">
                                                        Posts
                                                    </a>
                                                </li>
                                                <li class="nav-link active custom_icon text-white">
                                                    <a data-toggle="tab" href="#followers" class="text-white fa fa-users">
                                                        Followers
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="tab-content">
                                        <div id="profile" class="tab-pane fade in active show">
                                            <div class="col-md-12 card p-2">
                                                <div class="card-header custom_header text-white glowing_border" style="border-radius: 20px 20px 0px 0px;">
                                                    Profile Summary
                                                </div>
                                                <div class="card-body custom_background text-white glowing_border">
                                                    {{profile.profile_summary|default:"N/A"}}
                                                </div>
                                                <div class="card-header custom_header text-white glowing_border">
                                                    Sentiments
                                                </div>
                                                <div class="card-body custom_background text-white glowing_border">
                                                    <div class="d-flex flex-row justify-content-start align-items-center mt-2 w-50">
                                                        <i class="fas fa-thumbs-up fa-2x text-primary ml-5"></i> : <span
                                                        class="badge "> {{profile.sentiments.0}}</span></div>
                                                        <div class="d-flex flex-row justify-content-start align-items-center mt-2"><i
                                                            class="fas fa-thumbs-down fa-2x text-warning ml-5"></i> : <span
                                                            class="badge ">{{profile.sentiments.1}}</span></div>
                                                        </div>
                                                        <div class="card-header custom_header text-white glowing_border">
                                                            Common words
                                                        </div>
                                                        <div class="card-body custom_background text-white glowing_border">
                                                            {% for sentiment in profile.comm %}
                                                                <span class="badge badge-info ">{{sentiment}}</span>
                                                            {% endfor %}
                                                        </div>
                                                        <div class="card-footer">
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- instagram posts  -->
                                                <div id="posts" class="tab-pane fade">
                                                    <div class="row m-0 p-0 bg-white">
                                                        {% for post in profile.posts %}
                                                            <div class="col-md-3 p-2">
                                                                <div class="card glowing_border custom_background h-100 p-0 p-0">
                                                                    <div class="card-header custom_header">
                                                                        <div class="row d-flex flex-row justify-content-center align-items-center">
                                                                            <div class="col-md-4 text_14px"><span
                                                                                class="text-white font-weight-bold">Post #
                                                                            {{forloop.counter}}</span></div>
                                                                            <div class="col-md-4 text_14px d-flex flex-row justify-content-center align-items-center"> <span
                                                                            class="badge badge-light">{{post.owner_username}}</span>
                                                                        </div>
                                                                        <div class="col-md-4  text-right">
                                                                            <i class="fab fa-instagram fa-2x text-white"></i>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="card-body">
                                                                    <div class="row text-white">
                                                                        <div class="col-md-12 text-center m-0 p-0">
                                                                            <img src="{{post.display_url}}" class="img-fluid img-responsive"
                                                                            style="height:250px;width:100%;">
                                                                        </div>
                                                                        <div class="col-md-12 text_12px m-0 p-0">
                                                                            {{post.caption}}
                                                                        </div>
                                                                        {% if post.categorization  %}
                                                                            
                                                                            
                                                                            <div class="col-md-12 mt-3">
                                                                                {% for category in post.categorization %}
                                                                                    <span class="stamp  is-draft"><span>
                                                                                        {{ category|default:"N/A" }}
                                                                                    </span></span>
                                                                                {% endfor %}
                                                                            </div>
                                                                        {% else %}
                                                                            <span class="stamp  is-draft"><span>
                                                                                No-Categorization
                                                                            </span></span>
                                                                        {% endif %}
                                                                    </div>
                                                                    
                                                                    
                                                                </div>
                                                                <div class="card-footer">
                                                                    <span class="badge badge-light float-left"> Likes :
                                                                    {{post.likes_count}}</span>
                                                                    <span class="badge badge-light float-right"> Comments :
                                                                    {{post.comments_count}}</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    {% endfor %}
                                                </div>
                                            </div>
                                            <!-- end instagram posts -->
                                            <!-- followers tabs  -->
                                            <div id="followers" class="tab-pane fade">
                                                <div class="row m-0 p-0 bg-white">
                                                    {% for i in profile.followers %}
                                                        <div class="col-md-3 mt-2">
                                                            <div class="card glowing_border custom_background">
                                                                <div class="card-header d-flex flex-row justify-content-center align-items-center custom_header m-0 p-0 ">
                                                                    {% if i.picture_image_url %}
                                                                        <img src="{{i.picture_image_url}}" style="height:60px;width:60px;border-radius:50%;" class="img-fluid" />
                                                                    {% else %}
                                                                        <img src="{% static 'images/heliports_image_placeholder.jpg' %}" style="height:60px;width:60px;border-radius:50%;" class="img-fluid" />
                                                                    {% endif %}
                                                                </div>
                                                                <div class="card-body">
                                                                    
                                                                    <div class="row">
                                                                        <div class="col-md-12 m-0 p-0 ">
                                                                            <div><span class="badge custom_bagde w-25 text-left">Full Name:</span> <span class="badge badge-light">{{i.full_name}}</span></div>
                                                                            <div><span class="badge custom_bagde w-25 text-left">User-Name:</span> <span class="badge badge-light">{{i.username}}</span></div>
                                                                            <div><span class="badge custom_bagde w-25 text-left">URL:</span> <a  href="{{i.url}}" class="badge badge-success" target="_blank"><i class="fa fa-eye "></i></a></div>
                                                                            
                                                                            
                                                                        </div>
                                                                        
                                                                        
                                                                    </div>
                                                                    
                                                                    
                                                                    
                                                                    
                                                                    
                                                                </div>
                                                            </div>
                                                        </div>
                                                    {% endfor %}
                                                </div>
                                            </div>
                                            <!-- end followers pane -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-1"></div>
                    </div>
                </div>
            </div>
        </div>
        <script type="text/javascript" src="{% static 'Additional_assets/main/js/slim.min.js'%}"></script>
    <script type="text/javascript" src="{% static 'Additional_assets/main/js/popper.min.js'%}"></script>
    <script type="text/javascript" src="{% static 'Additional_assets/main/js/bootstrap.min.js'%}"></script>
        <script src="https://www.amcharts.com/lib/4/core.js"></script>
        <script src="https://www.amcharts.com/lib/4/charts.js"></script>
        <script src="https://www.amcharts.com/lib/4/themes/dark.js"></script>
        <script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>
        <script>
        am4core.ready(function () {
        // Themes begin
        am4core.useTheme(am4themes_dark);
        am4core.useTheme(am4themes_animated);
        // Themes end
        var chart = am4core.create("profile_chart", am4charts.RadarChart);
        chart.hiddenState.properties.opacity = 0; // this creates initial fade-in
        var dic = [
        {
        category: "Posts",
        value1: "{{ profile.posts|length }}",
        },
        {
        category: "Target Update ",
        value1: "{{ profile.target_update_count }}",
        },
        {
        category: "Followers",
        value1: "{{ profile.follow }}",
        },
        {
        category: "Followed By",
        value1: "{{ profile.followed_by }}",
        },
        ]
        chart.data = dic
        //chart.padding(20, 20, 20, 20);
        chart.colors.step = 4;
        var categoryAxis = chart.yAxes.push(new am4charts.CategoryAxis());
        categoryAxis.dataFields.category = "category";
        categoryAxis.renderer.labels.template.location = 0.5;
        categoryAxis.renderer.labels.template.horizontalCenter = "right";
        categoryAxis.renderer.labels.template.fontSize = 10;
        categoryAxis.renderer.grid.template.location = 0;
        categoryAxis.renderer.tooltipLocation = 0.5;
        categoryAxis.renderer.grid.template.strokeOpacity = 0.07;
        categoryAxis.renderer.axisFills.template.disabled = true;
        categoryAxis.interactionsEnabled = false;
        categoryAxis.renderer.minGridDistance = 10;
        var valueAxis = chart.xAxes.push(new am4charts.ValueAxis());
        valueAxis.tooltip.disabled = true;
        valueAxis.renderer.labels.template.horizontalCenter = "left";
        valueAxis.min = 0;
        valueAxis.max = 1000;
        valueAxis.strictMinMax = true;
        valueAxis.renderer.maxLabelPosition = 0.99;
        valueAxis.renderer.minGridDistance = 10;
        valueAxis.renderer.grid.template.strokeOpacity = 0.07;
        valueAxis.renderer.axisFills.template.disabled = true;
        valueAxis.interactionsEnabled = false;
        var series1 = chart.series.push(new am4charts.RadarColumnSeries());
        series1.columns.template.tooltipText = "{name}: {valueX.value}";
        series1.name = "Counts";
        series1.dataFields.categoryY = "category";
        series1.dataFields.valueX = "value1";
        series1.stacked = true;
        chart.seriesContainer.zIndex = -1;
        chart.scrollbarX = new am4core.Scrollbar();
        chart.scrollbarX.exportable = false;
        chart.scrollbarY = new am4core.Scrollbar();
        chart.scrollbarY.exportable = false;
        chart.cursor = new am4charts.RadarCursor();
        chart.cursor.lineY.disabled = true;
        }); // end am4core.ready()
        </script>
    </body>
</html>
